package org.zhangyc.test.guava.limit;import com.google.common.util.concurrent.RateLimiter;import com.sun.org.apache.xml.internal.utils.ThreadControllerWrapper;import java.util.concurrent.TimeUnit;/** * Created by user on 16/7/27. */public class Limiter {    public static void main(String[] args){        RateLimiter limiter = RateLimiter.create(5);        System.out.println(limiter.acquire());        System.out.println(limiter.acquire());        System.out.println(limiter.acquire());        System.out.println(limiter.acquire());        System.out.println(limiter.acquire());        System.out.println(limiter.acquire());        System.out.println("平滑限流---------");        limiter = RateLimiter.create(5,1000, TimeUnit.MILLISECONDS);        for(int i =1; i < 5;i++) {            System.out.println(limiter.acquire());        }        try {            Thread.sleep(1000L);        }catch (Throwable throwable){            throwable.printStackTrace();        }        for(int i =1; i < 5;i++) {            System.out.println(limiter.acquire());        }    }}